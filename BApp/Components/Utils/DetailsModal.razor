@using BApp.Components.PaletteExtractor
@using BApp.Domain.Models


<div class="modal" style="display:@(IsVisible ? "block" : "none")">
    <div class="modal-content">
        <span class="close" @onclick="Close">&times;</span>
        <div class="modal-header">
            <h2>COLOR DETAILS</h2>
            <p>Date: @UserColor.SavingDate, HEX:@UserColor.ColorHexValue</p>
        </div>
        <div class="modal-body">

            <ColorExtension ColorHex="@UserColor.ColorHexValue" />

            <h3>Palettes</h3>
            <div id="colorPalettes">
                <!-- Color palettes will be displayed here -->
            </div>
        </div>
    </div>
</div>


@code {
    [Parameter]
    public UserColor UserColor { get; set; }

    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public EventCallback OnClose { get; set; }

    private void Close()
    {
        OnClose.InvokeAsync();
    }

    // protected override async Task OnParametersSetAsync()
    // {
    //     if (IsVisible)
    //     {
    //         // Fetch color details from the backend
    //         await FetchColorDetails();
    //     }
    // }

    // private async Task FetchColorDetails()
    // {
    //     // Simulate fetching data from backend
    //     await Task.Delay(1000); // Replace with actual API call
    // }
}